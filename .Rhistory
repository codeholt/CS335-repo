)
over100Text <- tibble(
date=as.Date(2020-1-1, tryFormats = c("%Y-%m-%d", "%Y/%m/%d")),
p_score = Inf,
Nation = "",
label = "The number of deaths is more than double previous years during March and April",
)
over100Text <- tibble(
date=as.Date('2020-1-1', tryFormats = c("%Y-%m-%d", "%Y/%m/%d")),
p_score = Inf,
Nation = "",
label = "The number of deaths is more than double previous years during March and April",
)
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_text(data = over100Text,mapping = aes(label = label), vjust = "top", hjust = "center")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
over100Text <- tibble(
date=as.Date('2020-5-1', tryFormats = c("%Y-%m-%d", "%Y/%m/%d")),
p_score = Inf,
Nation = "",
label = "The number of deaths is more than double previous years during March and April",
)
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_text(data = over100Text,mapping = aes(label = label), vjust = "top", hjust = "center")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
over100Text <- tibble(
date=NULL,
p_score = Inf,
Nation = "",
label = "The number of deaths is more than double previous years during March and April",
)
over100Text <- tibble(
date=as.Date('2020-5-1', tryFormats = c("%Y-%m-%d", "%Y/%m/%d")),
p_score = Inf,
Nation = "",
label = "The number of deaths is more than double previous years during March and April",
)
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_text(data = over100Text,mapping = aes(label = label), vjust = "top", hjust = "center")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_text(data = over100Text,mapping = aes(label = label), vjust = "top", hjust = "center", color = "black")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()+
scale_y_continuous(breaks = seq(0,150, by=50))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation, size = p_score))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = p_score)+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point(aes(size = p_score))+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
theme_linedraw()+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point(aes(size = p_score))+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score))+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score), legend.position = "none")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score))+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))+
theme(legend.position = "none")
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score))+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score), legend = FALSE)+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score), legend = FALSE)+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))+
guides(size = FALSE)
#1
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, shape = Nation))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
#1
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, shape = Nation))+
geom_line(data = covidLong,aes(x=date, y=p_score, group = where(Nation == "United States")))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
#with USA
covidUSA <- covidLong %>%
filter(Nation == "United States")
#1
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, shape = Nation))+
geom_line(data = covidUSA,aes(x=date, y=p_score), color = "red")+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
#1
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, shape = Nation))+
geom_line(data = covidUSA,aes(x=date, y=p_score), color = "red")+
geom_point(data = covidUSA,aes(x=date, y=p_score), color = "red")+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(data = covidUSA,aes(x=date, y=p_score), size = 1)+
geom_point(data = covidUSA,aes(x=date, y=p_score), size = 2)+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
#1
#adds line at 100% to show that deaths are double previously
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_hline(yintercept = 100,color="red")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
ggsave("death reference line.png")
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_text(data = over100Text,mapping = aes(label = label), vjust = "top", hjust = "center", color = "black")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
ggsave("death Label.png")
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(size = 1)+
geom_point(aes(size = p_score), legend = FALSE)+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))+
guides(size = FALSE)
#with USA
covidUSA <- covidLong %>%
filter(Nation == "United States")
ggsave("death Line.png")
#1
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, shape = Nation))+
geom_line(data = covidUSA,aes(x=date, y=p_score), color = "red")+
geom_point(data = covidUSA,aes(x=date, y=p_score), color = "red")+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
ggsave("red highlight usa.png")
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line(data = covidUSA,aes(x=date, y=p_score), size = 1)+
geom_point(data = covidUSA,aes(x=date, y=p_score), size = 2)+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))+
scale_y_continuous(breaks = seq(0,150, by=100))
ggsave("size highlight USA.png")
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")
#1
#adds line at 100% to show that deaths are double previously
covidLong %>%
filter(Nation %in% c("Spain","England & Wales","Germany","Norway")) %>%
ggplot(aes(x=date, y=p_score, group = Nation, color = Nation))+
geom_line()+
geom_point()+
geom_hline(yintercept = 100,color="red")+
labs(x="Date", y="Percent Difference",
title = "Difference in the number of deaths from all causes
in 2020 as compared to previous years")+
scale_x_date(NULL, breaks = breaks_width(width = "1 month"))
library(readr)
library(haven)
library(readxl)
library(tidyverse)
library(downloader)
library(foreign)
library(ggplot2)
#data set 1
germanDat <- read_dta(url("https://byuistats.github.io/M335/data/heights/germanconscr.dta"))
#data set 1
germanDat <- read_dta(url("https://byuistats.github.io/M335/data/heights/germanconscr.dta"))
View(germanDat)
g19 <- germanDat %>%
mutate(birthYear = bdec,
height.in = height * 0.3937008,
height.cm = height,
study = "g19") %>%
select(birthYear, height.in, height.cm, study)
#data set 2
bavMaleConscripts <- read_dta(url("https://byuistats.github.io/M335/data/heights/germanprison.dta"))
b19 <- bavMaleConscripts %>%
mutate(birthYear = bdec,
height.in = height * 0.3937008,
height.cm = height,
study = "b19") %>%
select(birthYear, height.in, height.cm, study)
#data set 3
download("https://byuistats.github.io/M335/data/heights/Heights_south-east.zip",
destfile= "Heights_south_east.zip")
unzip("Heights_south_east.zip")
southGerman <- read.dbf("B6090.DBF")
g18 <- southGerman %>%
mutate(birthYear = GEBJ,
height.in = CMETER * 0.3937008,
height.cm = CMETER,
study = "g18") %>%
select(birthYear, height.in, height.cm, study)
#data set 4
laborStats <- read_csv(url("https://github.com/hadley/r4ds/raw/master/data/heights.csv"))
View(laborStats)
us20 <- laborStats %>%
mutate(birthYear = 1950,
height.in = height,
height.cm = height/0.3937008,
study = "us20") %>%
select(birthYear, height.in, height.cm, study)
#data set 5
wisconsonDat <- read_sav(url("http://www.ssc.wisc.edu/nsfh/wave3/NSFH3%20Apr%202005%20release/main05022005.sav"))
View(wisconsonDat)
#creates the columns to take
w20 <- wisconsonDat %>%
filter(RT216I > 0) %>%
mutate(birthYear = DOBY + 1900,
height.in = RT216I + (12*RT216F),
height.cm = (RT216I + (12*RT216F))/0.3937008,
study = "w20") %>%
select(birthYear, height.in, height.cm, study)
allData <- bind_rows(w20, us20, b19, g18, g19)
View(allData)
ggplot(allData, aes(x=birthYear, y=as.double(height.cm)))+
geom_dotplot()
pivot_wider(allData, names_from = study, values_from = height.cm)
pivot_wider(allData, names_from = study, values_from = c(height.cm, height.in))
View(allData)
allData$birthYear <- as.Date(allData$birthYear, "%Y")
#graph for showing the data
allData$birthYear <- as.character(allData$birthYear)
allData$birthYear <- as.Date(allData$birthYear, "%Y")
ggplot(allData, aes(x=birthYear, y=height.cm))+
geom_dotplot()
as.double(
ggplot(allData, aes(x=birthYear, y=as.double(height.cm)))+
geom_dotplot()
)
ggplot(allData, aes(x=birthYear, y=as.double(height.cm)))+
geom_dotplot()
View(allData)
str(allData)
plot(height.cm ~ birthYear, data = allData)
ggplot(allData, aes(x=birthYear, y=as.double(height.in)))+
geom_dotplot()
plot(height.in ~ birthYear, data = allData)
allData %>%
filter(height.in < 100) %>%
ggplot(allData, aes(x=birthYear, y=as.double(height.in)))+
geom_dotplot()
allData %>%
filter(height.in < 100) %>%
ggplot(aes(x=birthYear, y=as.double(height.in)))+
geom_dotplot()
library(tidyverse)
library(ggplot2)
install.packages("devtools")
library(devtools)
install.packages(c("backports", "broom", "callr", "car", "carData", "cli", "clipr", "crosstalk", "data.table", "dbplyr", "digest", "dplyr", "DT", "ellipsis", "farver", "forcats", "fs", "ggdendro", "ggformula", "ggplot2", "ggrepel", "ggstance", "glue", "haven", "hexbin", "htmltools", "htmlwidgets", "httpuv", "httr", "jsonlite", "knitr", "later", "lifecycle", "lme4", "lubridate", "maptools", "mime", "modelr", "mosaic", "mosaicCore", "mosaicData", "nloptr", "openssl", "openxlsx", "pbapply", "pbkrtest", "pillar", "plotly", "plyr", "prettyunits", "processx", "promises", "ps", "purrr", "quantreg", "raster", "Rcpp", "readr", "reshape2", "rlang", "rmarkdown", "rstudioapi", "rvest", "scales", "shiny", "sp", "stringi", "sys", "tibble", "tidyr", "tidyselect", "tinytex", "vctrs", "withr", "xfun", "xml2", "yaml", "zip"))
library(devtools)
install.packages("devtools")
install.packages("devtools")
library(devtools)
childMort <- devtools::install_github("drsimonj/ourworldindata")
library(devtools)
install.packages("devtools")
install.packages("devtools")
library(devtools)
financing_healthcare <- devtools::install_github("drsimonj/ourworldindata")
install.packages(c("backports", "broom", "car", "carData", "clipr", "crosstalk", "data.table", "dbplyr", "digest", "dplyr", "farver", "forcats", "fs", "ggdendro", "ggformula", "ggplot2", "ggrepel", "ggstance", "glue", "haven", "hexbin", "htmltools", "htmlwidgets", "httpuv", "knitr", "later", "lifecycle", "lme4", "lubridate", "maptools", "mime", "modelr", "mosaic", "mosaicCore", "mosaicData", "nloptr", "openssl", "openxlsx", "pbapply", "pbkrtest", "pillar", "plotly", "plyr", "prettyunits", "promises", "ps", "purrr", "quantreg", "raster", "Rcpp", "readr", "reshape2", "rmarkdown", "rvest", "scales", "shiny", "sp", "stringi", "sys", "tibble", "tidyr", "tidyselect", "tinytex", "vctrs", "xfun", "xml2", "yaml", "zip"))
devtools::install_github("drsimonj/ourworldindata")
?ourworldindata
??ourworldindata
devtools::install_github("drsimonj/ourworldindata")
library(cli)
detach("package:cli", unload = TRUE)
library(cli)
devtools::install_github("drsimonj/ourworldindata")
library(devtools)
library(ggplot2)
library(tidyverse)
devtools::install_github("drsimonj/ourworldindata")
??ourworldindata
?financing_healthcare
??financing_healthcare
library(ourworldindata)
?financing_healthcare
View(financing_healthcare)
str(financing_healthcare)
financing_healthcare %>%
ggplot(aes(x=health_exp_public_percent,
y=child_mort, group= year)) %>%
geom_dotplot()
library(tidyverse)
library(ggplot2)
library(devtools)
library(ourworldindata)
financing_healthcare %>%
ggplot(aes(x=health_exp_public_percent,
y=child_mort, group= year)) %>%
geom_dotplot()
library(dplyr)
financing_healthcare %>%
ggplot(aes(x=health_exp_public_percent,
y=child_mort, group= year)) %>%
geom_dotplot()
install.packages(c("fs", "glue", "Rcpp", "stringi"))
install.packages(c("fs", "glue", "Rcpp", "stringi"))
install.packages(c("glue", "stringi"))
install.packages(c("glue", "stringi"))
library(dplyr)
install.packages("glue")
install.packages("glue")
install.packages("glue")
library(dplyr)
install.packages("glue")
install.packages("glue")
install.packages("glue")
install.packages("glue")
